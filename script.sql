-- Drop All Created Tables
DROP TABLE RBILL;
DROP TABLE RBOOKITEM;
DROP TABLE FEEDBACK;
DROP TABLE BOOKING;
DROP TABLE EMPLOYEE;
DROP TABLE EMPLOYEETYPE;
DROP TABLE ROOM;
DROP TABLE ROOMPRICE;
DROP TABLE IMAGE;
DROP TABLE ROOMTYPE;
DROP TABLE CUSTOMER;
--

CREATE TABLE ROOMTYPE
(
    TYPE_NAME   VARCHAR2(20) PRIMARY KEY,
    DESCRIPTION VARCHAR2(120)
);

CREATE TABLE IMAGE
(
    IMAGE_NAME VARCHAR2(36) PRIMARY KEY,
    TYPE_NAME  VARCHAR(20),
    CONSTRAINT IMAGE_TYPE_NAME_FK FOREIGN KEY (TYPE_NAME)
        REFERENCES ROOMTYPE (TYPE_NAME)
);

CREATE TABLE ROOMPRICE
(
    DATE_FROM DATE,
    DATE_TO   DATE,
    PRICE     NUMBER(9) NOT NULL,
    TYPE_NAME VARCHAR(20),
    PRIMARY KEY (DATE_FROM, DATE_TO),
    CONSTRAINT ROOMPRICE_TYPE_NAME_FK FOREIGN KEY (TYPE_NAME)
        REFERENCES ROOMTYPE (TYPE_NAME)
);
-- todo change room type names
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-JAN-2022', 'DD-MON-YYYY'), TO_DATE('15-MAY-2022', 'DD-MON-YYYY'), 34999, 'eco-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-MAY-2022', 'DD-MON-YYYY'), TO_DATE('15-AUG-2022', 'DD-MON-YYYY'), 44999, 'eco-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-AUG-2022', 'DD-MON-YYYY'), TO_DATE('15-JAN-2022', 'DD-MON-YYYY'), 34999, 'eco-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-JAN-2022', 'DD-MON-YYYY'), TO_DATE('15-MAY-2022', 'DD-MON-YYYY'), 64999, 'eco-2');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-MAY-2022', 'DD-MON-YYYY'), TO_DATE('15-AUG-2022', 'DD-MON-YYYY'), 69999, 'eco-2');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-AUG-2022', 'DD-MON-YYYY'), TO_DATE('15-JAN-2022', 'DD-MON-YYYY'), 64999, 'eco-2');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-JAN-2022', 'DD-MON-YYYY'), TO_DATE('15-MAY-2022', 'DD-MON-YYYY'), 69999, 'large-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-MAY-2022', 'DD-MON-YYYY'), TO_DATE('15-AUG-2022', 'DD-MON-YYYY'), 79999, 'large-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-AUG-2022', 'DD-MON-YYYY'), TO_DATE('15-JAN-2022', 'DD-MON-YYYY'), 69999, 'large-1');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-JAN-2022', 'DD-MON-YYYY'), TO_DATE('15-MAY-2022', 'DD-MON-YYYY'), 129999, 'large-2');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-MAY-2022', 'DD-MON-YYYY'), TO_DATE('15-AUG-2022', 'DD-MON-YYYY'), 149999, 'large-2');
INSERT INTO ROOMPRICE
VALUES (TO_DATE('16-AUG-2022', 'DD-MON-YYYY'), TO_DATE('15-JAN-2022', 'DD-MON-YYYY'), 129999, 'large-2');
INSERT INTO ROOMPRICE

CREATE TABLE ROOM
(
    ID        VARCHAR(6),
    STATUS    VARCHAR2(8),
-- empty - occupied - service
    PHONE     NUMBER(7) NOT NULL UNIQUE,
-- 000 00 01...
    TYPE_NAME VARCHAR(20),
    PRIMARY KEY (ID),
    CONSTRAINT ROOM_TYPE_NAME_FK FOREIGN KEY (TYPE_NAME)
        REFERENCES ROOMTYPE (TYPE_NAME)
);

CREATE TABLE EMPLOYEETYPE
(
    TYPE_NAME VARCHAR(32) PRIMARY KEY,
    SALARY    NUMBER(8) NOT NULL
-- 15,000.00
);

INSERT INTO EMPLOYEETYPE 
VALUES ('MANAGER', 15000);
INSERT INTO EMPLOYEETYPE
VALUES ('RECEPTIONIST', 12000);
INSERT INTO EMPLOYEETYPE
VALUES ('WAITER', 10000);
INSERT INTO EMPLOYEETYPE
VALUES ('COOK', 9000);
INSERT INTO EMPLOYEETYPE
VALUES ('BARTENDER', 8000);
INSERT INTO EMPLOYEETYPE
VALUES ('CLEANER', 7000);
INSERT INTO EMPLOYEETYPE
VALUES ('SECURITY', 6000);
INSERT INTO EMPLOYEETYPE
VALUES ('BELLBOY', 5000);
INSERT INTO EMPLOYEETYPE
VALUES ('STAFF', 4000);


CREATE TABLE EMPLOYEE
(
    ID         VARCHAR(6) PRIMARY KEY,
    FIRST_NAME VARCHAR2(16) NOT NULL,
    LAST_NAME  VARCHAR2(16) NOT NULL,
    GENDER     VARCHAR2(6) NOT NULL,
    BIRTH_DATE DATE NOT NULL,
    ADDRESS    VARCHAR2(60) NOT NULL,
    PHONE      NUMBER(10) NOT NULL UNIQUE,
    TYPE_NAME  VARCHAR(32),
    CONSTRAINT EMPLOYEE_TYPE_NAME_FK FOREIGN KEY (TYPE_NAME)
        REFERENCES EMPLOYEETYPE (TYPE_NAME)
);


INSERT INTO EMPLOYEE
VALUES ('E001', 'Jack', 'Smith', 'M', TO_DATE('15-FEB-1970', 'DD-MON-YYYY'), '461 Wagon St. Venice, FL 34293', '555-1234', 'MANAGER');
INSERT INTO EMPLOYEE
VALUES ('E002', 'Jane', 'Doe', 'F', TO_DATE('12-JAN-1975', 'DD-MON-YYYY'), '8922 Cedar St. Milton, MA 02186', '555-1235', 'RECEPTIONIST');
INSERT INTO EMPLOYEE
VALUES ('E003', 'Mary', 'Jane', 'F', TO_DATE('23-JUL-1980', 'DD-MON-YYYY'), '305 Carpenter Lane Natchez, MS 39120', '555-1236', 'WAITER');
INSERT INTO EMPLOYEE
VALUES ('E004', 'John', 'Doe', 'M', TO_DATE('02-OCT-1982', 'DD-MON-YYYY'), '580 Schoolhouse Ave. Macon, GA 31204', '555-1237', 'COOK');
INSERT INTO EMPLOYEE
VALUES ('E005', 'Ahmet', 'Yıldız', 'F', TO_DATE('22-NOV-1973', 'DD-MON-YYYY'), '280 North Littleton Ave. Peachtree City, GA 30269', '555-1238', 'BARTENDER');
INSERT INTO EMPLOYEE
VALUES ('E006', 'Seda', 'Yıldız', 'F', TO_DATE('25-NOV-1974', 'DD-MON-YYYY'), '966 Madison Rd. Toledo, OH 43612', '555-1239', 'CLEANER');
INSERT INTO EMPLOYEE
VALUES ('E007', 'Monica', 'Geller', 'F', TO_DATE('19-APR-1995', 'DD-MON-YYYY'), '5 Beaver Ridge Street North Haven, CT 06473', '555-1240', 'SECURITY');
INSERT INTO EMPLOYEE
VALUES ('E008', 'Ross', 'Geller', 'M', TO_DATE('10-FEB-1996', 'DD-MON-YYYY'), '769 Ridgewood Court Goose Creek, SC 29445', '555-1241', 'BELLBOY');
INSERT INTO EMPLOYEE
VALUES ('E009', 'Rachel', 'Green', 'F', TO_DATE('08-JUL-1994', 'DD-MON-YYYY'), '7838 Summer Ave. Linden, NJ 07036', '555-1242', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E010', 'Joey', 'Tribbiani', 'M', TO_DATE('24-JAN-1962', 'DD-MON-YYYY'), '845 West St. New York, NY 10001', '555-1243', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E011', 'Chandler', 'Bing', 'M', TO_DATE('20-JAN-1975', 'DD-MON-YYYY'), '3 Evergreen St. Suite 46 Calhoun, GA 30701', '555-1244', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E012', 'Phoebe', 'Buffay', 'F', TO_DATE('12-JAN-1985', 'DD-MON-YYYY'), '68 Monroe Road Milford, MA 01757', '555-1245', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E015', 'Burak', 'Cabadan', 'M', TO_DATE('18-OCT-2000', 'DD-MON-YYYY'), '9024 E. Dogwood Avenue Mc Lean, VA 22101', '555-1248', 'MANAGER');
INSERT INTO EMPLOYEE
VALUES ('E013', 'Billur', 'Baş', 'F', TO_DATE('19-JAN-2002', 'DD-MON-YYYY'), '14 Valley Farms St. Wheaton, IL 60187', '555-1246', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E014', 'Mona', 'Lisa', 'F', TO_DATE('12-JAN-1900', 'DD-MON-YYYY'), '35 Arch St. Zeeland, MI 49464', '555-1247', 'STAFF');
INSERT INTO EMPLOYEE
VALUES ('E016', 'Umut', 'Yıldız', 'M', TO_DATE('30-JAN-2000', 'DD-MON-YYYY'), '814 Glen Eagles Ave. Ronkonkoma, NY 11779', '555-1249', 'MANAGER');
INSERT INTO EMPLOYEE
VALUES ('E017', 'Hazim Alper', 'Ata', 'M', TO_DATE('22-JAN-2000', 'DD-MON-YYYY'), '254 Victoria St. Hamburg, NY 14075', '555-1250', 'MANAGER');
INSERT INTO EMPLOYEE
VALUES ('E017', 'Burak', 'Saler', 'M', TO_DATE('11-JAN-1999', 'DD-MON-YYYY'), '7 Harvey Street Youngstown, OH 44512', '555-1250', 'MANAGER');
INSERT INTO EMPLOYEE
VALUES ('E018', 'Merve', 'Kumaş', 'F', TO_DATE('09-JAN-1992', 'DD-MON-YYYY'), '69 E. Littleton Dr. Billerica, MA 01821', '555-1251', 'BARTENDER');
INSERT INTO EMPLOYEE
VALUES ('E019', 'Mehmet', 'Alkan', 'F', TO_DATE('02-JAN-1984', 'DD-MON-YYYY'), '652 Lilac Street Oviedo, FL 32765', '555-1252', 'COOK');




CREATE TABLE CUSTOMER
(
    ID          VARCHAR(6) PRIMARY KEY,
    FIRST_NAME  VARCHAR2(16) NOT NULL,
    LAST_NAME   VARCHAR2(16) NOT NULL,
    GENDER      VARCHAR2(6) NOT NULL,
    BIRTH_DATE  DATE        NOT NULL,
    NATIONAL_ID VARCHAR(11) NOT NULL UNIQUE,
    ADDRESS     VARCHAR2(60) NOT NULL,
    PHONE       NUMBER(10) NOT NULL UNIQUE
);

INSERT INTO CUSTOMER 
VALUES ("C001","Lacy","Alvarado","F","04-Nov-1982",84024338129,"Ap #693-2064 Parturient St.","799-7864");
INSERT INTO CUSTOMER 
VALUES ("C002","Leonard","Black","F","05-Aug-1986",67194682040,"833-7392 Metus Street","90-641-230-40-91");
INSERT INTO CUSTOMER 
VALUES ("C003","Gail","Brewer","F","16-Feb-1978",48508306170,"P.O. Box 841, 1901 Mi Street","90-499-021-60-51");
INSERT INTO CUSTOMER 
VALUES ("C004","Isabelle","Wilcox","F","18-Jul-2004",96394912388,"Ap #576-1941 Dapibus St.","613-3794");
INSERT INTO CUSTOMER 
VALUES ("C005","Winter","Hood","F","03-Mar-1998",37131466669,"Ap #974-900 Consequat Rd.","619-4345");
INSERT INTO CUSTOMER 
VALUES ("C006","Indira","Bruce","F","13-Feb-1985",55156970094,"137-4308 Eget Rd.","90-250-377-27-84");
INSERT INTO CUSTOMER 
VALUES ("C007","Karyn","Todd","F","28-Aug-1997",70412843711,"Ap #192-866 Justo. Rd.","90-327-818-74-41");
INSERT INTO CUSTOMER 
VALUES ("C008","Hedley","Blevins","F","15-Apr-2002",91433527207,"Ap #750-402 Penatibus St.","1-854-667-3778");
INSERT INTO CUSTOMER 
VALUES ("C009","Dorian","Rodriquez","F","07-Jun-1978",22601725514,"Ap #707-4896 Neque Street","1-820-848-3541");
INSERT INTO CUSTOMER 
VALUES ("C010","Sawyer","Schroeder","F","13-Dec-1980",80273172649,"436-938 Posuere Rd.","1-422-679-8042");
INSERT INTO CUSTOMER
VALUES ("C011","Rooney","Fisher","F","19-Aug-1993",36865262690,"593-688 Lobortis St.","1-311-443-2262");
INSERT INTO CUSTOMER 
VALUES ("C012","Colette","Hickman","F","04-Oct-2003",63375463565,"Ap #595-3009 Aliquam St.","375-2328");
INSERT INTO CUSTOMER 
VALUES ("C013","Oscar","Owens","F","12-Sep-1986",42305135954,"310-4241 Nisi. Street","1-640-453-3789");
INSERT INTO CUSTOMER 
VALUES ("C014","Quemby","Hobbs","F","22-Apr-1992",56159128701,"Ap #641-8622 Integer Avenue","288-8584");
INSERT INTO CUSTOMER
VALUES ("C015","Cain","Moore","F","21-Jun-1981",33869230493,"3679 Mi Rd.","1-363-329-3833");
INSERT INTO CUSTOMER 
VALUES ("C016","Rinah","Slater","F","30-May-2002",43973240528,"Ap #718-1391 Sed Rd.","90-232-743-84-84");
INSERT INTO CUSTOMER 
VALUES ("C017","Jamalia","Nash","F","06-May-1993",49543353646,"7600 Aenean Rd.","90-662-530-12-72");
INSERT INTO CUSTOMER 
VALUES ("C018","Kyla","Dale","F","15-Oct-1988",14180810951,"Ap #551-4575 Elit. Av.","90-376-556-11-03");
INSERT INTO CUSTOMER 
VALUES ("C019","Hoyt","Stark","F","13-Jan-2003",93434827005,"Ap #382-5522 Euismod Rd.","975-5324");
INSERT INTO CUSTOMER 
VALUES ("C020","Jermaine","Elliott","F","09-Jul-1976",24203403809,"990-5078 Feugiat Ave","1-327-354-8120");

CREATE TABLE FEEDBACK
(
    ID          VARCHAR(6) PRIMARY KEY,
    DESCRIPTION VARCHAR2(60),
    SCORE       NUMBER(1) NOT NULL,
    ROOM_ID     VARCHAR(6),
    EMPLOYEE_ID VARCHAR(6),
    CUSTOMER_ID VARCHAR(6),
    CONSTRAINT FEEDBACK_ROOM_ID_FK FOREIGN KEY (ROOM_ID)
        REFERENCES ROOM (ID) ON DELETE CASCADE,
    CONSTRAINT FEEDBACK_EMPLOYEE_ID_FK FOREIGN KEY (EMPLOYEE_ID)
        REFERENCES EMPLOYEE (ID) ON DELETE CASCADE,
    CONSTRAINT FEEDBACK_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID)
        REFERENCES CUSTOMER (ID) ON DELETE CASCADE
);
-- todo check when rooms, employees and customers are added
INSERT INTO FEEDBACK
VALUES ('F-0001', 'This was many best holiday. Everything was great.', 5, 'R-0001', 'E-0001', 'C-0001');
INSERT INTO FEEDBACK
VALUES ('F-0002', 'Employer was not polite to me. Room was decent', 2, 'R-0002', 'E-0003', 'C-0002');
INSERT INTO FEEDBACK
VALUES ('F-0003', '-', 5, 'R-0005', 'E-0003', 'C-0003');
INSERT INTO FEEDBACK
VALUES ('F-0004', 'Room was not clear and the bed was squeaky.', 3, 'R-0004', 'E-0004', 'C-0004');
INSERT INTO FEEDBACK
VALUES ('F-0005', 'Bed should be replaced.', 2, 'R-0004', 'E-0003', 'C-0005');
INSERT INTO FEEDBACK
VALUES ('F-0006', 'Clean and warm room.', 5, 'R-0001', 'E-0001', 'C-0003');
INSERT INTO FEEDBACK
VALUES ('F-0007', 'Bed was not comfortable.', 3, 'R-0004', 'E-0005', 'C-0003');

CREATE TABLE BOOKING
(
    ID           VARCHAR(6) PRIMARY KEY,
    BOOKER_ID    VARCHAR(6) NOT NULL,
    BOOKING_DATE DATE       NOT NULL,
    ENTER_DATE   DATE       NOT NULL,
    EXIT_DATE    DATE       NOT NULL,
    EMPLOYEE_ID  VARCHAR(6) NOT NULL,
    CONSTRAINT BOOKING_EMPLOYEE_ID_FK FOREIGN KEY (EMPLOYEE_ID)
        REFERENCES EMPLOYEE (ID) ON DELETE CASCADE,
    CONSTRAINT BOOKING_CUSTOMER_ID_FK FOREIGN KEY (BOOKER_ID)
        REFERENCES CUSTOMER (ID) ON DELETE CASCADE
);

INSERT INTO BOOKING VALUES('000001','C-0001',TO_DATE('13/06/2020','DD/MM/YYYY'),TO_DATE('16/06/2020','DD/MM/YYYY'),TO_DATE('27/12/2021','DD/MM/YYYY'),'E-0001');
INSERT INTO BOOKING VALUES('000002','C-0001',TO_DATE('13/07/2020','DD/MM/YYYY'),TO_DATE('14/03/2020','DD/MM/YYYY'),TO_DATE('14/01/2021','DD/MM/YYYY'),'E-0001');
INSERT INTO BOOKING VALUES('000003','C-0002',TO_DATE('15/02/2020','DD/MM/YYYY'),TO_DATE('24/09/2020','DD/MM/YYYY'),TO_DATE('16/03/2021','DD/MM/YYYY'),'E-0002');
INSERT INTO BOOKING VALUES('000004','C-0002',TO_DATE('23/03/2020','DD/MM/YYYY'),TO_DATE('20/11/2020','DD/MM/YYYY'),TO_DATE('05/10/2021','DD/MM/YYYY'),'E-0003');
INSERT INTO BOOKING VALUES('000005','C-0003',TO_DATE('05/01/2020','DD/MM/YYYY'),TO_DATE('04/12/2020','DD/MM/YYYY'),TO_DATE('10/04/2021','DD/MM/YYYY'),'E-0004');

CREATE TABLE RBILL
(
    BOOKING_ID     VARCHAR(6),
    CUSTOMER_ID    VARCHAR(6),
    BILL_DATE      DATE       NOT NULL,
    PAID_DATE      DATE       NOT NULL,
    EXP_DATE       DATE       NOT NULL,
    PAYMENT_METHOD VARCHAR(8) NOT NULL,
    PRIMARY KEY (BOOKING_ID, CUSTOMER_ID),
    CONSTRAINT RBILL_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID)
        REFERENCES CUSTOMER (ID) ON DELETE CASCADE,
    CONSTRAINT RBILL_BOOKING_ID_FK FOREIGN KEY (BOOKING_ID)
        REFERENCES BOOKING (ID) ON DELETE CASCADE
);

INSERT INTO RBILL VALUES ('000001','C-0001',TO_DATE('14/06/2020','DD/MM/YYYY'),TO_DATE('28/06/2021','DD/MM/YYYY'),TO_DATE('14/07/2020','DD/MM/YYYY'),'online');
INSERT INTO RBILL VALUES ('000002','C-0001',TO_DATE('14/07/2020','DD/MM/YYYY'),TO_DATE('15/01/2021','DD/MM/YYYY'),TO_DATE('14/08/2020','DD/MM/YYYY'),'online');
INSERT INTO RBILL VALUES ('000003','C-0002',TO_DATE('16/02/2020','DD/MM/YYYY'),TO_DATE('17/03/2021','DD/MM/YYYY'),TO_DATE('16/03/2020','DD/MM/YYYY'),'cash');
INSERT INTO RBILL VALUES ('000004','C-0002',TO_DATE('24/03/2020','DD/MM/YYYY'),TO_DATE('06/10/2021','DD/MM/YYYY'),TO_DATE('24/04/2020','DD/MM/YYYY'),'cash');
INSERT INTO RBILL VALUES ('000005','C-0003',TO_DATE('06/01/2020','DD/MM/YYYY'),TO_DATE('11/04/2021','DD/MM/YYYY'),TO_DATE('06/02/2020','DD/MM/YYYY'),'card');

CREATE TABLE RBOOKITEM
(
    BOOKING_ID  VARCHAR(6),
    CUSTOMER_ID VARCHAR(6),
    PRIMARY KEY (BOOKING_ID, CUSTOMER_ID),
    CONSTRAINT RBOOKITEM_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID)
        REFERENCES CUSTOMER (ID) ON DELETE CASCADE,
    CONSTRAINT RBOOKITEM_BOOKING_ID_FK FOREIGN KEY (BOOKING_ID)
        REFERENCES BOOKING (ID) ON DELETE CASCADE
);

INSERT INTO RBOOKITEM VALUES ('000001','C-0001');
INSERT INTO RBOOKITEM VALUES ('000002','C-0001');
INSERT INTO RBOOKITEM VALUES ('000003','C-0002');
INSERT INTO RBOOKITEM VALUES ('000004','C-0002');
INSERT INTO RBOOKITEM VALUES ('000005','C-0003');
INSERT INTO RBOOKITEM VALUES ('000005','C-0004');
INSERT INTO RBOOKITEM VALUES ('000005','C-0005');
